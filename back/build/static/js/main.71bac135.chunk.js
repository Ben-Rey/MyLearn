(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{136:function(e,t,a){e.exports={layout:"VideoLibrary_layout__1XIJT",reactPlayer:"VideoLibrary_reactPlayer__l1P1_",videoCard:"VideoLibrary_videoCard__28Q40"}},180:function(e,t,a){e.exports={container:"Tests_container__3fkeu"}},186:function(e,t,a){e.exports={hover:"VideoCard_hover__3-KtZ",videoCard:"VideoCard_videoCard__m3DL1"}},285:function(e,t,a){e.exports=a.p+"static/media/homeVideo.954edba7.mp4"},286:function(e,t,a){e.exports=a.p+"static/media/homeVideo.b129c4e6.webm"},287:function(e,t,a){e.exports=a.p+"static/media/Logo.2e27ee75.svg"},291:function(e,t,a){e.exports={container:"DashBoard_container__2J4Et"}},292:function(e,t,a){e.exports=a.p+"static/media/DashBoardVideoBack.9b3965b3.jpg"},293:function(e,t,a){e.exports=a.p+"static/media/DashBoardMemoBack.ffd39d54.jpg"},294:function(e,t,a){e.exports=a.p+"static/media/DashBoardAlbumBack.7e606196.jpg"},296:function(e,t,a){e.exports={addButton:"BlackMenu_addButton__3kBpN"}},308:function(e,t,a){e.exports={layout:"PhotoManager_layout__13pVD"}},309:function(e,t,a){e.exports={layout:"Memo_layout__StMvt"}},321:function(e,t,a){e.exports=a(543)},326:function(e,t,a){},469:function(e,t,a){},539:function(e,t,a){},543:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(33),i=a.n(o),l=(a(326),a(15)),s=a(16),c=a(18),u=a(17),d=a(19),m=a(55),p=a(312);var h=function(e){var t=e.component,a=e.isAuthenticated,n=Object(p.a)(e,["component","isAuthenticated"]);return r.a.createElement(m.b,Object.assign({},n,{render:function(e){return a?r.a.createElement(t,e):r.a.createElement(m.a,{to:{pathname:"/",state:{from:e.location}}})}}))},f=a(38),E=Object(f.a)(),v=a(52),b=a(42),g=a.n(b),y=function(e){e?g.a.defaults.headers.common.Authorization=e:delete g.a.defaults.headers.common.Authorization},w=a(129),O=a.n(w),S=function(e){return{type:"SET_CURRENT_USER",payload:e}},C=a(58),k=a.n(C),j=a(311),_=a(555),x=a(544),I=a(559),T=a(83),V=a(558),A=a(553),M=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).handleInputChange=function(t){e.setState(Object(T.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault();var a=!1;if(!1===/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.state.email)?(e.setState({emailError:!0}),a=!0):e.setState({emailError:!1}),!1===/^[a-zA-Z]\w{3,14}$/i.test(e.state.password)?(e.setState({passwordError:!0}),a=!0):e.setState({passwordError:!1}),a)e.setState({formError:!0});else{e.setState({formError:!1});var n={email:e.state.email,password:e.state.password};e.props.loginUser(n)}},e.state={email:"",password:"",emailError:!1,passwordError:!1,errorFromBack:null,formError:!1,formSuccess:!1,loginUserError:!1,stateErrors:[]},e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&(E.push("/GlobalSidebar"),this.setState({formError:!1}))}},{key:"componentWillReceiveProps",value:function(e){e.auth.isAuthenticated&&(E.push("/"),this.setState({formSuccess:!0})),Object.values(e.errors).length>0&&(this.setState({loginUserError:!0}),this.setState({formError:!0}),this.setState({stateErrors:Object.values(e.errors)}),this.setState({errors:e.errors})),e={}}},{key:"render",value:function(){var e={color:"#9f3a38",textAlign:"left",fontSize:"10px"},t=this.state.formError?r.a.createElement(V.a,{negative:!0,style:{width:"180px",marginLeft:"14px"}},r.a.createElement(V.a.Header,{style:{color:"#9f3a38",textAlign:"left"}},"Error"),this.state.emailError?r.a.createElement("p",{style:e},"Email not valid"):null,this.state.passwordError?r.a.createElement("p",{style:e},"Password not valid"):null,this.state.loginUserError?r.a.createElement("p",{style:e},this.state.stateErrors):null):null,a=this.state.formSuccess?r.a.createElement(V.a,{success:!0},r.a.createElement(V.a.Header,{style:{color:"green",textAlign:"left"}},"Success")):null;return r.a.createElement("div",null,r.a.createElement(A.a,{error:!0,success:!0},r.a.createElement(A.a.Input,{iconPosition:"left",icon:"user secret",name:"email",placeholder:"email",value:this.state.email,onChange:this.handleInputChange,error:this.state.emailError}),r.a.createElement(A.a.Input,{iconPosition:"left",icon:"key",name:"password",placeholder:"Password",type:"password",value:this.state.password,onChange:this.handleInputChange,error:this.state.passwordError||this.state.passwordMatchError}),r.a.createElement(x.a,{onClick:this.handleSubmit},"Submit"),t,a))}}]),t}(n.Component),R=Object(v.b)(function(e){return{auth:e.auth,errors:e.errors}},{loginUser:function(e){return function(t){g.a.post("http://163.172.83.78:3000/api/users/login",e).then(function(a){console.log(a);var n=a.data.token;localStorage.setItem("jwtToken",n),localStorage.setItem("user",e.email),y(n);var r=O()(n);t(S(r))}).catch(function(e){console.log(e),t({type:"GET_ERRORS",payload:e.response?e.response.data:null})})}}})(M),N=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).handleInputChange=function(t){e.setState(Object(T.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault();var a=!1;if(!1===/^[a-zA-Z0-9]+([a-zA-Z0-9](_|-| )[a-zA-Z0-9])*[a-zA-Z0-9]+$/i.test(e.state.name)?(e.setState({nameError:!0}),a=!0):e.setState({nameError:!1}),!1===/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.state.email)?(e.setState({emailError:!0}),a=!0):e.setState({emailError:!1}),!1===/^[a-zA-Z]\w{3,14}$/i.test(e.state.password)?(e.setState({passwordError:!0}),a=!0):e.setState({passwordError:!1}),!1===/^[a-zA-Z]\w{3,14}$/i.test(e.state.password_confirm)||e.state.password_confirm!==e.state.password?(e.setState({password_confirmError:!0}),a=!0):e.setState({password_confirmError:!1}),a)e.setState({formError:!0});else{e.setState({formError:!1});var n={name:e.state.name,email:e.state.email,password:e.state.password,password_confirm:e.state.password_confirm};e.props.registerUser(n,e.props.history),e.setState({name:"",email:"",password:"",password_confirm:"",formError:!1,nameError:!1,emailError:!1,passwordError:!1,password_confirmError:!1,successRegister:!0}),e.setState({formError:!1}),a=!1}},e.resetForm=function(){e.setState({name:"",email:"",password:"",password_confirm:"",formError:!1,nameError:!1,emailError:!1,passwordError:!1,password_confirmError:!1,successRegister:!1}),e.error=!1},e.componentWillReceiveProps=function(t){0===Object.keys(t.errors).length?(e.setState({formError:!1}),e.setState({successRegister:!0})):(e.setState({registerUserError:!0}),e.setState({successRegister:!1}),e.setState({formError:!0}),e.setState({stateErrors:Object.values(t.errors)}),e.setState({errors:t.errors}))},e.state={name:"",email:"",password:"",password_confirm:"",nameError:!1,emailError:!1,passwordError:!1,password_confirmError:!1,formError:!1,registerUserError:!1,stateErrors:[],successRegister:!1},e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(A.a,{success:!0},r.a.createElement(A.a.Input,{style:{width:"180px"},fluid:!0,icon:"user circle outline",iconPosition:"left",placeholder:"Name",name:"name",value:this.state.name,onChange:this.handleInputChange,error:this.state.nameError}),r.a.createElement(A.a.Input,{fluid:!0,icon:"envelope outline",iconPosition:"left",placeholder:"E-mail address",name:"email",value:this.state.email,onChange:this.handleInputChange,error:this.state.emailError}),r.a.createElement(A.a.Input,{fluid:!0,icon:"shield",iconPosition:"left",placeholder:"Password",type:"password",name:"password",value:this.state.password,onChange:this.handleInputChange,error:this.state.passwordError}),r.a.createElement(A.a.Input,{fluid:!0,icon:"shield",iconPosition:"left",placeholder:"Confirm Password",type:"password",name:"password_confirm",value:this.state.password_confirm,onChange:this.handleInputChange,error:this.state.password_confirmError}),r.a.createElement(x.a,{content:"Register",color:"grey",onClick:this.handleSubmit}),r.a.createElement(x.a,{content:"Reset",color:"red",onClick:this.resetForm}),this.state.formError?r.a.createElement(V.a,{negative:!0,style:{width:"180px",marginLeft:"14px"}},r.a.createElement(V.a.Header,{style:{color:"#9f3a38",textAlign:"left"}},"Error"),this.state.nameError?r.a.createElement("p",{style:{color:"#9f3a38",textAlign:"left",fontSize:"10px"}},"Name not valid"):null,this.state.emailError?r.a.createElement("p",{style:{color:"#9f3a38",textAlign:"left",fontSize:"10px"}},"Mail not valid"):null,this.state.passwordError?r.a.createElement("p",{style:{color:"#9f3a38",textAlign:"left",fontSize:"10px"}},"Password not valid"):null,this.state.password_confirmError?r.a.createElement("p",{style:{color:"#9f3a38",textAlign:"left",fontSize:"10px"}},"Password confirm not valid"):null,this.state.registerUserError?r.a.createElement("p",{style:{color:"#9f3a38",textAlign:"left",fontSize:"10px"}},this.state.stateErrors):null):null,this.state.successRegister?r.a.createElement(V.a,{success:!0,style:{width:"180px",marginLeft:"14px"}},r.a.createElement(V.a.Header,{style:{color:"#2c662d",textAlign:"left"}},"Success"),r.a.createElement("p",{style:{color:"#2c662d",textAlign:"left",fontSize:"10px"}},"You have registered successfully")):null)}}]),t}(n.Component),L=Object(v.b)(function(e){return{errors:e.errors}},{registerUser:function(e,t){return function(a){g.a.post("http://163.172.83.78:3000/api/users/register",e).then(function(e){return t.push("/")}).catch(function(e){a({type:"GET_ERRORS",payload:e.response.data})})}}})(Object(m.e)(N)),U=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=[{menuItem:"LOGIN",render:function(){return r.a.createElement(I.a.Pane,{attached:!1},r.a.createElement(R,null))}},{menuItem:"REGISTER",render:function(){return r.a.createElement(I.a.Pane,{attached:!1},r.a.createElement(L,null))}}];return r.a.createElement("div",null,r.a.createElement(I.a,{style:{color:"green"},menu:{secondary:!0,pointing:!0,inverted:!0},panes:e}))}}]),t}(n.Component),D=a(285),B=a.n(D),P=a(286),z=a.n(P),F=a(287),G=a.n(F),H=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={},a.toggle=function(){return a.setState(function(e){return{open:!e.open}})},a.handleLogOut=function(){a.props.logoutUser()},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(j.a,{inverted:!0,className:k.a.menu},r.a.createElement(j.a.Item,null,r.a.createElement("img",{src:G.a,alt:"NoLOGO"})),r.a.createElement(j.a.Item,{className:k.a.title,position:"left"},"MyLearnTool"),r.a.createElement(j.a.Menu,{position:"right"},r.a.createElement(_.a,{wide:!0,trigger:r.a.createElement(j.a.Item,{link:!0,className:k.a.title,onClick:this.toggle},"Login"),on:"click",position:"bottom right",style:{opacity:.9,marginRight:"10px"},inverted:!0,open:this.state.open},r.a.createElement(U,null)),r.a.createElement(j.a.Item,{link:!0,className:k.a.title,position:"right",onClick:this.handleLogOut},"LogOut"))),r.a.createElement("div",{className:k.a.video},r.a.createElement(x.a,{className:k.a.btn,size:"massive",href:"/GlobalSidebar",inverted:!0,disabled:!this.props.auth.isAuthenticated},"ENTRER"),r.a.createElement("div",{className:k.a.videoContainer},r.a.createElement("video",{className:k.a.backgroundVideo,resizemode:"cover",loop:!0,autoPlay:!0,muted:!0},r.a.createElement("source",{src:B.a,type:"video/mp4"}),r.a.createElement("source",{src:z.a,type:"video/webm"}),"Your browser does not support the video tag."))))}}]),t}(n.Component),Z=Object(v.b)(function(e){return{auth:e.auth}},{logoutUser:function(){return function(e){localStorage.removeItem("jwtToken"),y(!1),e(S({})),E.push("/")}}})(Object(m.e)(H)),K=a(77),$=a(561),J=a(187),X=a(96),Y=a(564),W=a(313),q=function(e){return r.a.createElement("div",null,r.a.createElement(Y.a,{animated:"rotate",style:{overflow:"hidden",borderRadius:"500rem"}},r.a.createElement(Y.a.Content,{visible:!0},r.a.createElement(W.a,{circular:!0,size:"small",src:"https://react.semantic-ui.com/images/avatar/large/stevie.jpg"})),r.a.createElement(Y.a.Content,{hidden:!0},r.a.createElement(W.a,{circular:!0,size:"small",src:"https://react.semantic-ui.com/images/avatar/large/stevie.jpg"}))))},Q=a(291),ee=a.n(Q),te=a(101),ae=(a(469),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).scrollTo3=function(){te.scroller.scrollTo("section3",{duration:1500,delay:100,smooth:!0,containerId:"containerElement",offset:50})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("nav",{className:"nav",id:"navbar",style:{position:"fixed"}},r.a.createElement("div",{className:"nav-content"},r.a.createElement("ul",{className:"nav-items"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(te.Link,{activeClass:"active",to:"section1",containerId:"containerElement",spy:!0,smooth:!0,offset:-70,duration:500},"Video")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(te.Link,{activeClass:"active",to:"section2",containerId:"containerElement",spy:!0,smooth:!0,offset:-70,duration:500},"Memo")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(te.Link,{activeClass:"active",to:"section3",containerId:"containerElement",spy:!0,smooth:!0,offset:-70,duration:500},"Album")))))}}]),t}(n.Component)),ne=a(57),re=a.n(ne),oe=a(292),ie=a.n(oe),le=function(e){var t={backgroundImage:"url("+ie.a+")",backgroundSize:"cover"};return r.a.createElement("div",{className:re.a.globalContainer,style:t,id:e.id},r.a.createElement(A.a,{className:re.a.AllFormulaire,style:{backgroundColor:"#ffffffbf"}},r.a.createElement(A.a.Group,{widths:"equal"},r.a.createElement(A.a.Input,{fluid:!0,label:"Video",placeholder:"First name"}),r.a.createElement(A.a.Input,{fluid:!0,label:"Last name",placeholder:"Last name"})),r.a.createElement(A.a.Group,{inline:!0},r.a.createElement("label",null,"Size"),r.a.createElement(A.a.Radio,{label:"Small",value:"sm"}),r.a.createElement(A.a.Radio,{label:"Medium",value:"md"}),r.a.createElement(A.a.Radio,{label:"Large",value:"lg"})),r.a.createElement(A.a.TextArea,{label:"About",placeholder:"Tell us more about you..."}),r.a.createElement(A.a.Checkbox,{label:"I agree to the Terms and Conditions"}),r.a.createElement(A.a.Button,null,"Submit")))},se=a(293),ce=a.n(se),ue=function(e){var t={backgroundImage:"url("+ce.a+")",backgroundSize:"cover"};return r.a.createElement("div",{className:re.a.globalContainer,style:t,id:e.id},r.a.createElement(A.a,{className:re.a.AllFormulaire,style:{backgroundColor:"#ffffffbf"}},r.a.createElement(A.a.Group,{widths:"equal"},r.a.createElement(A.a.Input,{fluid:!0,label:"Memo",placeholder:"First name"}),r.a.createElement(A.a.Input,{fluid:!0,label:"Last name",placeholder:"Last name"})),r.a.createElement(A.a.Group,{inline:!0},r.a.createElement("label",null,"Size"),r.a.createElement(A.a.Radio,{label:"Small",value:"sm"}),r.a.createElement(A.a.Radio,{label:"Medium",value:"md"}),r.a.createElement(A.a.Radio,{label:"Large",value:"lg"})),r.a.createElement(A.a.TextArea,{label:"About",placeholder:"Tell us more about you..."}),r.a.createElement(A.a.Checkbox,{label:"I agree to the Terms and Conditions"}),r.a.createElement(A.a.Button,null,"Submit")))},de=a(294),me=a.n(de),pe=function(e){var t={backgroundImage:"url("+me.a+")",backgroundSize:"cover"};return r.a.createElement("div",{className:re.a.globalContainer,style:t,id:e.id},r.a.createElement(A.a,{className:re.a.AllFormulaire,style:{backgroundColor:"#ffffffbf"}},r.a.createElement(A.a.Group,{widths:"equal"},r.a.createElement(A.a.Input,{fluid:!0,label:"Album",placeholder:"First name"}),r.a.createElement(A.a.Input,{fluid:!0,label:"Last name",placeholder:"Last name"})),r.a.createElement(A.a.Group,{inline:!0},r.a.createElement("label",null,"Size"),r.a.createElement(A.a.Radio,{label:"Small",value:"sm"}),r.a.createElement(A.a.Radio,{label:"Medium",value:"md"}),r.a.createElement(A.a.Radio,{label:"Large",value:"lg"})),r.a.createElement(A.a.TextArea,{label:"About",placeholder:"Tell us more about you..."}),r.a.createElement(A.a.Checkbox,{label:"I agree to the Terms and Conditions"}),r.a.createElement(A.a.Button,null,"Submit")))},he=function(){return r.a.createElement("div",{tabIndex:"0",className:ee.a.container,id:"containerElement"},r.a.createElement(ae,null),r.a.createElement("div",{className:"element",id:"containerElement"},r.a.createElement(le,{id:"section1"}),r.a.createElement(ue,{id:"section2"}),r.a.createElement(pe,{id:"section3"})))},fe=a(136),Ee=a.n(fe),ve=a(102),be=(a(484),function(){return function(e,t){g.a.get("http://163.172.83.78:3000/service/video/get").then(function(t){e({type:"GET_ALL_VIDEO",payload:t.data})}).catch(function(e){return console.log(e)})}}),ge=function(){return function(e,t){g.a.get("http://163.172.83.78:3000/service/videoTopic/get",{params:{user:localStorage.user}}).then(function(t){e({type:"GET_TOPIC_LIST",payload:t.data})}).catch(function(e){return console.log(e)})}},ye=a(295),we=a.n(ye),Oe=a(556),Se=a(551),Ce=a(296),ke=a.n(Ce),je=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleAClick=function(e,t){var n=t.name;return a.setState({activeA:n})},a.handleBClick=function(e,t){var n=t.name;return a.setState({activeB:n})},a.handleAddClick=function(e){a.props.addButton(e)},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props.allTopic?this.props.allTopic.map(function(e){return{key:e.topic,text:e.topic,value:e.topic}}):{key:"x",text:"x",value:"x"};return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{inverted:!0,fixed:"top"},r.a.createElement(j.a.Item,null,r.a.createElement(Oe.a,{name:"selectTopic",value:this.props.inputValue.selectTopic,closeOnChange:!0,placeholder:"Select Topic",search:!0,selection:!0,onChange:this.props.handlerInputchange,options:e})),r.a.createElement(j.a.Item,null,r.a.createElement(Se.a,{icon:"film",placeholder:this.props.errorInputUrl?"Error":"Link",value:this.props.inputValue.Url,name:"Url",onChange:this.props.handlerInputchange,onKeyDown:this.props.handleKeyDown,error:this.props.errorInputUrl})),r.a.createElement(j.a.Item,null,r.a.createElement(Oe.a,{name:"newVideoTopic",value:this.props.inputValue.videoTopic,closeOnChange:!0,multiple:!0,clearable:!0,placeholder:"New Video Topic",search:!0,selection:!0,onChange:this.props.handlerInputchange,options:e,onKeyDown:this.props.handleKeyDown})),r.a.createElement(j.a.Item,{as:"div",className:ke.a.addButton,onClick:this.props.addButton},r.a.createElement(K.a,{name:"add",color:"green"})),r.a.createElement(j.a.Item,null,r.a.createElement(Se.a,{icon:"film",placeholder:this.props.errorInputUrl?"Error":"AddTopic",value:this.props.topicInputValue,name:"videoTopic",onChange:this.props.handlerInputchange,onKeyDown:this.props.handleKeyDown,error:this.props.errorInputUrl}))))}}]),t}(n.Component),_e=a(554),xe=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(_e.a,{open:this.props.open,dimmer:"blurring",size:"large",style:{height:"auto",left:"50%",top:"50%",transform:" translate(-50%, -50%)"}},r.a.createElement(_e.a.Header,null,"Video Title"," ",r.a.createElement(x.a,{onClick:function(){return e.props.handleModalVisibility(!1)},floated:"right",circular:!0,icon:"close"})),r.a.createElement(_e.a.Content,null,this.props.children))}}]),t}(n.Component),Ie=a(186),Te=a.n(Ie),Ve=a(557),Ae=function(e){return r.a.createElement(Ve.a,{key:e.index,className:Te.a.videoCard,onContextMenu:function(t){return e.handleRightClick(t,e.video._id)}},r.a.createElement(W.a,{src:e.video.videoThumbnail.high?e.video.videoThumbnail.high.url:e.video.videoThumbnail,wrapped:!0,ui:!1,onClick:function(){return e.handleImageClick(e.video.videoUrl)},className:Te.a.hover}),r.a.createElement(Ve.a.Content,null,e.video.title))},Me=(a(539),function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t={visibility:this.props.visible?"visible":"hidden"},a={top:this.props.position.Y,left:"".concat(this.props.position.X+5,"px"),visibility:this.props.visible?"visible":"hidden"};return r.a.createElement("div",{className:"custom-context-container",style:t,onClick:function(t){return e.props.hideContext(t)},onContextMenu:function(t){return e.props.hideContext(t)}},r.a.createElement("div",{className:"custom-context",id:"text",style:a},this.props.items.map(function(t,a,n){return r.a.createElement("div",{key:a,className:"custom-context-item",value:t.label,onClick:function(){return e.props.itemClick(t.label)}},t.label)})))}}]),t}(r.a.Component)),Re=a(563),Ne=a(560),Le=a(552),Ue=a(305),De=a.n(Ue),Be=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).resetVideoState=function(){a.setState({newVideo:{Url:"",title:"",urlPhoto:"",videoTopic:[]}})},a.handlerInputchange=function(e,t){switch(t.name){case"Url":var n=a.state.newVideo;n[t.name]=t.value,a.setState({newVideo:n});break;case"videoTopic":a.setState({newTopic:t.value});break;case"newVideoTopic":var r=a.state.newVideo;r.videoTopic=t.value,a.setState({newVideo:r});break;case"selectTopic":a.setState({topicSelected:t.value})}},a.handleKeyDown=function(e){if("Enter"===e.key)switch(e.target.name){case"Url":a.addVideo(a.state.newVideo)}else a.state.errorInputUrl&&a.setState({errorInputUrl:!1})},a.handleClickOnlist=function(e){a.setState({currentUrl:e}),a.handleModalVisibility(!0),window.scrollTo(0,0)},a.handleRightClickOnCard=function(e,t){e.preventDefault();var n=a.state.contextualMenu;n.contexMenuVisible=!n.contexMenuVisible,n.position={X:e.clientX,Y:e.clientY},a.setState({contextualMenu:n}),t&&a.setState({cardRightClicked:t})},a.contextMenuItemClicked=function(e){switch(e){case"DELETE":a.props.deleteVideo(a.state.cardRightClicked)}},a.handleModalVisibility=function(e){a.setState({openModal:e})},a.addVideo=function(e){e.Url.length>0?a.props.addVideo(e):a.state.newTopic?(a.props.addTopic(a.state.newTopic),a.setState({newTopic:""})):a.setState({errorInputUrl:!0})},a.state={backgroundColor:"grey",CardsVisibility:!1,openModal:!1,componentDidMout:!1,currentUrl:null,newTopic:"",topicSelected:"all",newVideo:{Url:"",title:"",urlPhoto:"",videoTopic:[]},errorInputUrl:!1,cardRightClicked:"",contextualMenu:{contexMenuVisible:!1,position:{X:"",Y:""},Items:[{label:"TOPIC"},{label:"DELETE"}]}},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.allVideos.length||(this.props.getAllVideo(),this.props.getTopicList()),this.setState({componentDidMout:!0}),setTimeout(function(){e.setState(function(e){return{CardsVisibility:!e.CardsVisibility}})},300)}},{key:"componentDidUpdate",value:function(e,t){if(this.props.messageFromBack!==e.messageFromBack)switch(this.props.messageFromBack.message){case"VideoNotOk":this.resetVideoState(),ve.NotificationManager.error("Url Error","L'url de la video n'est pas valide",3e3);break;case"VideoExist":this.resetVideoState(),ve.NotificationManager.warning("Url Error","La video a deja \xe9t\xe9 enregistr\xe9",3e3);break;case"VideoOk":this.resetVideoState(),ve.NotificationManager.success("La video a bien \xe9t\xe9 enregistr\xe9","Success",3e3)}}},{key:"render",value:function(){var e=this,t=this.props.allVideos.length>0?r.a.createElement(Re.a,{visible:this.state.CardsVisibility,animation:"scale",duration:1e3},r.a.createElement(J.a,{basic:!0,style:{marginTop:"65px",height:"100%"}},r.a.createElement(Ve.a.Group,{itemsPerRow:this.props.numberOfCard},this.props.allVideos.map(function(t,a){return t.topic.includes(e.state.topicSelected)?r.a.createElement(Ae,{className:Ee.a.videoCard,key:a,index:a,video:t,handleImageClick:e.handleClickOnlist,handleRightClick:e.handleRightClickOnCard}):""})))):r.a.createElement(Ne.a,{active:!0},r.a.createElement(Le.a,{size:"massive"},"Loading"));return r.a.createElement("div",{className:Ee.a.layout,style:{overflow:this.state.contextualMenu.contexMenuVisible?"hidden":"auto"}},r.a.createElement(ve.NotificationContainer,null),r.a.createElement(je,{handlerInputchange:this.handlerInputchange,addButton:function(){return e.addVideo(e.state.newVideo)},inputValue:this.state.newVideo,topicInputValue:this.state.newTopic,handleKeyDown:this.handleKeyDown,errorInputUrl:this.state.errorInputUrl,allTopic:this.props.allTopic}),r.a.createElement(xe,{open:this.state.openModal,handleModalVisibility:this.handleModalVisibility},r.a.createElement(we.a,{className:Ee.a.reactPlayer,url:this.state.currentUrl,playing:!0,width:"100%",height:this.props.VideoHeight,controls:!0,light:!0})),t,r.a.createElement(Me,{items:this.state.contextualMenu.Items,visible:this.state.contextualMenu.contexMenuVisible,position:this.state.contextualMenu.position,hideContext:this.handleRightClickOnCard,itemClick:this.contextMenuItemClicked}))}}]),t}(n.Component),Pe=Object(v.b)(function(e){return{allVideos:e.video.allVideo,allTopic:e.video.allTopic,messageFromBack:e.video.messageFromBack}},function(e){return{getAllVideo:function(){return e(be())},addVideo:function(t){return e((a=t,console.log(a),function(e,t){g.a.post("http://163.172.83.78:3000/service/video/add",{user:localStorage.user,videoUrl:a.Url,title:a.title,topic:a.videoTopic}).then(function(t){return e({type:"ADD_VIDEO",payload:t.data}),t}).catch(function(e){return console.log(e)}).then(function(t){"VideoOk"===t.data.message&&e(be()),console.log(t)})}));var a},deleteVideo:function(t){return e(function(e){return function(t,a){g.a.delete("http://163.172.83.78:3000/service/video/delete",{params:{user:localStorage.user,_id:e}}).then(function(e){t(be())}).catch(function(e){return console.log(e)})}}(t))},getTopicList:function(){return e(ge())},addTopic:function(t){return e((a=t,function(e,t){g.a.post("http://163.172.83.78:3000/service/videoTopic/add",{params:{user:localStorage.user,topic:a}}).then(function(t){return e({type:"ADD_TOPIC",payload:t.data}),t}).catch(function(e){return console.log(e)}).then(function(t){t&&"topicOk"===t.data.message&&e(ge())})}));var a}}})(De()(function(e){var t=e.width;return{numberOfCard:t<376?1:t<426?1:t<769?3:t<1025?4:5,VideoHeight:t<376?"250px":t<426?"260px":t<769?"400px":t<1025?"450px":"480px"}})(Be)),ze=a(308),Fe=a.n(ze),Ge=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:Fe.a.layout}))}}]),t}(n.Component),He=a(309),Ze=a.n(He),Ke=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:Ze.a.layout}))}}]),t}(n.Component),$e=a(180),Je=a.n($e),Xe=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:Je.a.container},"Vide")}}]),t}(n.Component),Ye=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleItemClick=function(e,t){var n=t.name;return a.setState({activeItem:n})},a.handleSidebarHide=function(){return a.setState({visible:!1})},a._onMouseMove=function(e){e.pageX<5&&a.setState({visible:!0})},a._onMouseLeave=function(e){a.setState({visible:!1})},a.state={visible:!1,activeItem:"VideoManager"},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state.visible,a=this.state.activeItem,n=[{name:"DashBoard",icon:"dashboard",component:he},{name:"VideoManager",icon:"video play",component:Pe},{name:"Memo",icon:"cloud",component:Ke},{name:"PhotosManager",icon:"photo",component:Ge},{name:"Tests",icon:"flag checkered",component:Xe}],o=n.map(function(t,n){return r.a.createElement(X.a,{key:n,to:"".concat(e.props.match.url,"/").concat(t.name),style:{textDecoration:"none"}},r.a.createElement(j.a.Item,{as:"div",name:t.name,active:a===t.name,onClick:e.handleItemClick},r.a.createElement(K.a,{name:t.icon}),t.name))}),i=n.map(function(t,a){return r.a.createElement(m.b,{key:a,path:"".concat(e.props.match.path,"/").concat(t.name),component:t.component})});return r.a.createElement("div",null,r.a.createElement($.a.Pushable,{as:J.a,onMouseMove:this._onMouseMove},r.a.createElement($.a,{as:j.a,animation:"scale down",icon:"labeled",inverted:!0,onHide:this.handleSidebarHide,vertical:!0,visible:t,width:"thin",onMouseLeave:this._onMouseLeave},r.a.createElement(j.a.Item,null,r.a.createElement(q,null)),o),r.a.createElement($.a.Pusher,null,r.a.createElement(J.a,{basic:!0,style:{padding:"0"}},r.a.createElement(m.b,{exact:!0,path:this.props.match.path,component:Pe}),i))))}}]),t}(n.Component),We=a(63),qe=a(310),Qe={},et=a(88),tt=function(e){return void 0===e||null===e||"object"===typeof e&&0===Object.keys(e).length||"string"===typeof e&&0===e.trim().length},at={isAuthenticated:!1,user:{}},nt={allVideo:{},allTopic:[],messageFromBack:""},rt=Object(We.c)({errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ERRORS":return t.payload;case"RESET_STATE":return{};default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_USER":return Object(et.a)({},e,{isAuthenticated:!tt(t.payload),user:t.payload});default:return e}},video:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ALL_VIDEO":return Object(et.a)({},e,{allVideo:t.payload});case"ADD_VIDEO":return Object(et.a)({},e,{messageFromBack:t.payload});case"GET_TOPIC_LIST":return Object(et.a)({},e,{allTopic:t.payload});default:return e}}}),ot=Object(We.e)(rt,{},Object(We.d)(Object(We.a)(qe.a)));if(localStorage.jwtToken){y(localStorage.jwtToken);var it=O()(localStorage.jwtToken);ot.dispatch(S(it))}var lt=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=ot.getState().auth.isAuthenticated;return r.a.createElement(v.a,{store:ot},r.a.createElement(m.c,{history:E},r.a.createElement(m.b,{exact:!0,path:"/",component:Z}),r.a.createElement(h,{path:"/GlobalSidebar",component:Ye,isAuthenticated:e})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(lt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},57:function(e,t,a){e.exports={AllFormulaire:"Formulaire_AllFormulaire__2xFGF",globalContainer:"Formulaire_globalContainer__3k57R"}},58:function(e,t,a){e.exports={menu:"Home_menu__1QSJf",title:"Home_title__JOZll",video:"Home_video__22TFt",videoContainer:"Home_videoContainer__8iB66",backgroundVideo:"Home_backgroundVideo__fBR5-",btn:"Home_btn__22pE-",presentation:"Home_presentation__2AoE0"}}},[[321,1,2]]]);
//# sourceMappingURL=main.71bac135.chunk.js.map